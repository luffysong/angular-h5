<div class="container">
    <div class="error-wrapper">
        <!--所有报错信息-->
        <!-- 自定义错误信息 -->
        <div class="error"
             ng-if="error.code">
            <span>{{error.msg}}</span>
        </div>
        <!-- 自定义错误信息 -->
    </div>
    <div class="welcome validate-welcome-wrapper">
        <div class="welcome-words"
             ng-show="investorValidateApply.status != 'success' && investorValidateApply.status !='checking'">
            <p>认证成为投资人,开启发现项目之旅</p>
        </div>
        <form class="form-container" name="guideForm"
              ng-show="investorValidateApply.status != 'success' && investorValidateApply.status !='checking'"
              ng-submit="$event.preventDefault()">
            <div error-wrapper error-group="errorGroup"></div>
            <div class="welcome-form">
                <div class="line upload-avatar">
                    <ul class="intro-pic-list">
                        <li style="background-image: url({{ guideForm.avatar.uploaded || user.avatar | image:70: 'avatar'}});"
                            class="pic-avatar">
                            <div ng-show="guideForm.avatar.uploading"
                                ng-style="{height: guideForm.avatar.progress + '%'}" ></div>
                        </li>
                        <li ng-show='!guideForm.picture.uploading'>
                            <input class="input-file" type="file" name="avatar" accept="image/*"
                                   ng-file-select
                                   ng-file-change="imgFileSelected(guideForm.avatar, $files)"
                                   ng-click="androidUpload(guideForm.avatar, $event)"
                                   ng-model="avatar" ng-multiple="false" resetOnClick="true"
                            />
                        </li>
                    </ul>
                    <label class="avatar-label">真实头像</label>
                </div>
                <div class="line">
                    <label>真实姓名</label>
                    <div class="control">
                        <input class="form-control" placeholder="未填写" type="text" name="name" maxlength="15"
                               ng-model="user.name" ng-pattern="/^[\u4E00-\u9FA5a-zA-Z\s]{0,15}$/" required/>
                    </div>
                </div>
                <div class="line" ng-if="!user.hasEmail">
                    <label>邮箱</label>
                    <div class="control">
                        <input class="form-control" type="email" placeholder="未填写" name="email"
                               ng-model="user.email" required/>
                    </div>
                </div>
                <div class="line" ng-if="!user.hasPhone">
                    <label>国家</label>
                    <div class="control icon-select">
                        <select name="cc" ng-model="user.cc" class="form-control country"
                                ng-change="changeCountry(guideForm.phone)"
                                ng-options="item as (item.desc+' +'+item.cc) for item in countryDict"></select>
                    </div>
                </div>
                <div class="line" ng-if="!user.hasPhone">
                    <label>手机号</label>
                    <div class="control">
                        <input class="form-control" type="text" placeholder="未填写" name="phone"
                               ng-model="user.phone" ng-pattern="REGEXP.phone" required/>
                    </div>
                </div>
                <div class="line" ng-if="!user.hasPhone">
                    <label>验证码</label>
                    <div class="control validate-code">
                        <input class="form-control" type="text" placeholder="未填写" name="smscode"
                               ng-model="user.smscode" required/>
                    </div>
                    <div class="control code-group text-code">
                        <a class="btn btn-linear get-code wait" href="javascript:void(0)" ng-disabled="wait" ng-if="wait">{{wait+'秒'}}</a>
                        <a class="btn btn-linear get-code btn-thin btn-sms"
                           href="javascript:void(0)"
                           ng-disabled="!user.phone"
                           ng-if="!wait"
                           ng-click="getCode($event, false)">点击获取</a>
                    </div>
                    <div ng-if="!wait" class="control code-group voice-code">
                        您也可以尝试
                        <a class="btn btn-linear get-code btn-thin"
                           href="javascript:void(0)"
                           ng-disabled="!user.phone || user.cc.cc != '86' || user.cc.cc != 86"
                           ng-click="getCode($event, true)">接听语音验证码</a>
                    </div>
                </div>
            </div>
            <div class="basic-info"></div>
        </form>
    </div>
    <div class="investor-validate investor-validate-apply" ng-show="investorValidateApply.status != 'success' && investorValidateApply.status !='checking'">
        <!--跟投人未提交验证-->
        <div>

            <form ng-submit="$event.preventDefault()"
                  name="investorValidateForm"
                  class="form-container">
                <div error-wrapper error-group="investorErrorGroup"></div>

                <div>

                    <div class="line">
                        <label>投资身份</label>
                        <div class="control icon-select">
                            <select ng-model="invest.investorRole"
                                    name="identity"
                                    class="fr" required>
                                <option name="" value="">未选择</option>
                                <option name="" value="PERSONAL_INVESTOR">个人投资者</option>
                                <option name="" value="ORG_INVESTOR">任职投资机构</option>
                                <option name="" value="COMPANY_INVEST_DEPT">任职公司投资并购部</option>
                            </select>
                        </div>
                    </div>
                    <div class="i-body" ng-if="(invest.investorRole=='ORG_INVESTOR')">
                        <div class="line content-list" ng-if="organization.response.data.length!==1">
                            <!--任职机构-->
                            <label>任职机构</label>
                            <div class="control icon-select">
                                <select name="organizationSelectName" ng-change="organization.choose()"
                                        ng-options="y.id as y.groupName for y in organization.response.data"
                                        ng-model="organization.form.id" required
                                        class="fr">
                                </select>
                            </div>
                        </div>
                        <!--新增机构-->
                        <div class="line content-list" ng-if="organization.isAddExperience">
                            <div>
                                <label>机构简称</label>
                            </div>
                            <div kr-suggest type="organization" class="kr-fleft control"
                                suggest-obj="suggestOrganizationObj" max-length="30" min-length="1"
                                autocomplete-options="suggestOrganizationOption" placeholder="未填写" name="name"
                            > </div>
                        </div>

                        <!--新增机构-->
                        <div class="content-list">
                            <!--职位-->
                            <div class="line clearfix">
                                <label>职位</label>
                                <div class="control icon-select">
                                    <select ng-options="c.value as c.desc for c in orgPositionType"
                                            ng-model="organization.form.position"
                                            name="position"
                                            class="fr" required>
                                        <option value="">未选择</option>
                                    </select>
                                </div>
                            </div>
                            <!--任职时间-->
                            <div class="line clearfix">
                                <label>任职时间</label>
                                <div class="fr">
                                    <div class="il-bk icon-select">
                                        <select name="time" required ng-options="y for y in yearOptions" ng-model="organization.form.startYear">
                                            <option value="">年</option>
                                        </select>
                                    </div>
                                    <div class="il-bk icon-select">
                                        <select name="time" required  ng-model="organization.form.startMonth" ng-options="m for m in monthOptions">
                                            <option value="">月</option>
                                        </select>
                                    </div>－至今
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="i-body" ng-if="(invest.investorRole=='COMPANY_INVEST_DEPT')">
                            <div class="line content-list" ng-if="company.response.data.length!==1">
                                <!--任职公司-->
                                <label>任职公司</label>
                                <div class="control  icon-select">
                                    <select name="companySelectName" ng-change="company.choose()" ng-options="y.id as y.groupName for y in company.response.data" ng-model="company.form.id" required>
                                    </select>
                                </div>
                            </div>
                            <!--新增公司-->
                            <div class="line content-list" ng-if="company.isAddExperience">
                                <div>
                                    <label>公司简称</label>
                                </div>
                                <div kr-suggest type="company" class="kr-fleft control"
                                    suggest-obj="suggestCompanyObj" max-length="30" min-length="1"
                                    autocomplete-options="suggestCompanyOption" placeholder="未填写" name="name"
                                > </div>
                            </div>
                            <div class="content-list">
                                <!--职位-->
                                <div class="line clearfix">
                                    <label>职位</label>
                                    <div class="control icon-select">
                                        <select name="position" required  ng-options="c.value as c.desc for c in workPositionType" ng-model="company.form.position">
                                            <option value="">未选择</option>
                                        </select>
                                    </div>
                                </div>
                                <!--<div class="line clearfix">-->
                                    <!--<label>职位详情</label>-->
                                    <!--<div class="control fr">-->
                                        <!--<input type="text"  ng-model="company.form.positionDetail" placeholder="如iOS开发/UI设计师">-->
                                    <!--</div>-->
                                <!--</div>-->
                                <!--任职时间-->
                                <div class="line clearfix">
                                    <label>任职时间</label>
                                    <div class="fr">
                                        <div class="il-bk icon-select">
                                            <select name="time" required ng-options="y for y in yearOptions" ng-model="company.form.startYear">
                                                <option value="">年</option>
                                            </select>
                                        </div>
                                        <div class="il-bk icon-select">
                                            <select name="time" required ng-model="company.form.startMonth" ng-options="m for m in monthOptions">
                                                <option value="">月</option>
                                            </select>
                                        </div>－至今
                                    </div>
                                </div>
                            </div>
                        </div>
                </div>

                <div class="upload-wrapper">
                    <!--上传名片-->
                    <div class="line upload-pictures">
                        <label for="pictures">上传名片<span class="tip">(仅供审核使用)</span></label>
                        <div class="col-max">
                            <div class="item">
                                <div class="intro-pic-list icon-select">
                                    <div class="pic-wrapper pic-input">
                                        <div class="pic-wrapper" ng-show="investorValidateForm.pictures.uploaded || invest.pictures" style="background-image: url({{ investorValidateForm.pictures.uploaded || invest.pictures}});"></div>
                                        <input ng-file-select
                                               type="file" name="pictures" id="pictures" class="input-file" accept="image/*"
                                               ng-file-change="imgFileSelected(investorValidateForm.pictures, $files)"
                                               ng-click="androidUpload(investorValidateForm.pictures, $event)"
                                               ng-model="pictures" ng-multiple="false" resetOnClick="true"
                                        />
                                        <div ng-show="investorValidateForm.pictures.uploading" class="stick pic-stick" style="height:{{investorValidateForm.pictures.progress}}%;"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


                <div class="basic-info"></div>
                <div class="form-submit">
                    <a href="" class="btn btn-default btn-auth" ng-click="submitForm($event)" ng-disabled="hasClick">提交认证</a>
                </div>
            </form>
        </div>
    </div>
    <!-- 申请成功 -->
    <div class="investor-apply-success" ng-show="investorValidateApply.status == 'success'">
        <h3 class="title">投资人认证</h3>
        <div class="jumbotron">
            <p class="text-center">
                <span class="icon-apply"></span>
                <label>恭喜！你已认证成功，获得 <i class="icon-tou">投</i> 身份标识</label>
                现在你可以去PC端或<a href="http://asset.36tr.com/m/hub.html" class="btn btn-link">打开APP</a>查看融资中的项目了
            </p>
        </div>
    </div>
    <!-- 提交认证申请审核中 -->
    <div class="investor-apply-alter" ng-show="investorValidateApply.status == 'checking' ">
        <h3 class="title">投资人认证</h3>
        <div class="jumbotron">
            <p class="text-center">
                <span class="icon-apply"></span>
                <label>感谢您选择在36氪投资</label>
                如信息属实，会在3个工作日内为你开通投资人权限
            </p>
        </div>
    </div>

</div>

<script type="text/ng-template" id="templates/util/pop-captcha.html">
<div class="pop-form">
    <div class="geetest-captcha">
      <div geetest type="type" phone="phone" is-voice="isVoice" callback="callback"></div>
    </div>
</div>
</script>
